#!/usr/bin/perl -w
#---------------------------------------------------------------------------
use strict;

#---------------------------------------------------------------------------
my $file=$ARGV[0] || die "Uso: $0 fichero_con_walk\n";
#---------------------------------------------------------------------------
if (! -f $file) { die "No existe $file\n"; }

#---------------------------------------------------------------------------
my %MIBS=();

#---------------------------------------------------------------------------
open (F,"<$file");
while (<F>) {
	chomp;
	#CISCO-SMI::ciscoMgmt.401
	if (/(\S+)\:\:(.*)/) {
		my $mib=$1;
		# Algun caso particular
		if (/(CISCO-SMI\:\:ciscoMgmt\.\d+)/) { $mib=$1; }
		$MIBS{$mib}=1;
	}
}
close F;

my $cnt=1;
foreach my $k (sort keys %MIBS) {
	print "$cnt\t$k\n"; 
	$cnt += 1;
}

